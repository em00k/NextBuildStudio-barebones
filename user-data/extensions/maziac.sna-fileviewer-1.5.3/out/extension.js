var C=Object.create;var a=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var W=(t,o)=>{for(var e in o)a(t,e,{get:o[e],enumerable:!0})},D=(t,o,e,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of x(o))!g.call(t,s)&&s!==e&&a(t,s,{get:()=>o[s],enumerable:!(n=w(o,s))||n.enumerable});return t};var p=(t,o,e)=>(e=t!=null?C(b(t)):{},D(o||!t||!t.__esModule?a(e,"default",{value:t,enumerable:!0}):e,t)),k=t=>D(a({},"__esModule",{value:!0}),t);var P={};W(P,{activate:()=>E,deactivate:()=>T});module.exports=k(P);var m=p(require("vscode"));var c=p(require("vscode")),f=p(require("path")),l=require("fs");var r=class{dispose(){}};var d=class{openCustomDocument(o,e,n){let s=new r;return s.uri=o,s}resolveCustomEditor(o,e,n){let s=o;e.webview.options={enableScripts:!0};let i=s.uri.fsPath;e.webview.onDidReceiveMessage(u=>{switch(u.command){case"ready":this.sendDataToWebView(i,e);let h=c.workspace.createFileSystemWatcher(i,!0,!1,!0);h.onDidChange(()=>{this.sendDataToWebView(i,e)}),e.onDidDispose(()=>{h.dispose()});break}});let v=this.getMainHtml(e);e.webview.html=v}sendDataToWebView(o,e){let s={command:"setData",snaData:[...(0,l.readFileSync)(o)]};e.webview.postMessage(s)}getMainHtml(o){let n=c.extensions.getExtension("maziac.sna-fileviewer").extensionPath,s=f.join(n,"html/main.html"),i=(0,l.readFileSync)(s).toString(),v=c.Uri.file(n),u=o.webview.asWebviewUri(v).toString();return i=i.replace("${vscodeResPath}",u),i}};function E(t){t.subscriptions.push(m.workspace.onDidChangeConfiguration(e=>{}));let o=new d;m.window.registerCustomEditorProvider("sna-fileviewer.viewer",o,{webviewOptions:{enableFindWidget:!0,retainContextWhenHidden:!0}})}function T(){}0&&(module.exports={activate,deactivate});
